!function(){var a,t,n;!function(i){function e(a,t){return b.call(a,t)}function o(a,t){var n,i,e,o,s,r,u,l,p,c,d,h,x=t&&t.split("/"),f=N.map,M=f&&f["*"]||{};if(a){for(a=a.split("/"),s=a.length-1,N.nodeIdCompat&&y.test(a[s])&&(a[s]=a[s].replace(y,"")),"."===a[0].charAt(0)&&x&&(h=x.slice(0,x.length-1),a=h.concat(a)),p=0;p<a.length;p++)if("."===(d=a[p]))a.splice(p,1),p-=1;else if(".."===d){if(0===p||1===p&&".."===a[2]||".."===a[p-1])continue;p>0&&(a.splice(p-1,2),p-=2)}a=a.join("/")}if((x||M)&&f){for(n=a.split("/"),p=n.length;p>0;p-=1){if(i=n.slice(0,p).join("/"),x)for(c=x.length;c>0;c-=1)if((e=f[x.slice(0,c).join("/")])&&(e=e[i])){o=e,r=p;break}if(o)break;!u&&M&&M[i]&&(u=M[i],l=p)}!o&&u&&(o=u,r=l),o&&(n.splice(0,r,o),a=n.join("/"))}return a}function s(a,t){return function(){var n=P.call(arguments,0);return"string"!=typeof n[0]&&1===n.length&&n.push(null),x.apply(i,n.concat([a,t]))}}function r(a){return function(t){return o(t,a)}}function u(a){return function(t){U[a]=t}}function l(a){if(e(v,a)){var t=v[a];delete v[a],g[a]=!0,h.apply(i,t)}if(!e(U,a)&&!e(g,a))throw new Error("No "+a);return U[a]}function p(a){var t,n=a?a.indexOf("!"):-1;return n>-1&&(t=a.substring(0,n),a=a.substring(n+1,a.length)),[t,a]}function c(a){return a?p(a):[]}function d(a){return function(){return N&&N.config&&N.config[a]||{}}}var h,x,f,M,U={},v={},N={},g={},b=Object.prototype.hasOwnProperty,P=[].slice,y=/\.js$/;f=function(a,t){var n,i=p(a),e=i[0],s=t[1];return a=i[1],e&&(e=o(e,s),n=l(e)),e?a=n&&n.normalize?n.normalize(a,r(s)):o(a,s):(a=o(a,s),i=p(a),e=i[0],a=i[1],e&&(n=l(e))),{f:e?e+"!"+a:a,n:a,pr:e,p:n}},M={require:function(a){return s(a)},exports:function(a){var t=U[a];return void 0!==t?t:U[a]={}},module:function(a){return{id:a,uri:"",exports:U[a],config:d(a)}}},h=function(a,t,n,o){var r,p,d,h,x,N,b,P=[],y=typeof n;if(o=o||a,N=c(o),"undefined"===y||"function"===y){for(t=!t.length&&n.length?["require","exports","module"]:t,x=0;x<t.length;x+=1)if(h=f(t[x],N),"require"===(p=h.f))P[x]=M.require(a);else if("exports"===p)P[x]=M.exports(a),b=!0;else if("module"===p)r=P[x]=M.module(a);else if(e(U,p)||e(v,p)||e(g,p))P[x]=l(p);else{if(!h.p)throw new Error(a+" missing "+p);h.p.load(h.n,s(o,!0),u(p),{}),P[x]=U[p]}d=n?n.apply(U[a],P):void 0,a&&(r&&r.exports!==i&&r.exports!==U[a]?U[a]=r.exports:d===i&&b||(U[a]=d))}else a&&(U[a]=n)},a=t=x=function(a,t,n,e,o){if("string"==typeof a)return M[a]?M[a](t):l(f(a,c(t)).f);if(!a.splice){if(N=a,N.deps&&x(N.deps,N.callback),!t)return;t.splice?(a=t,t=n,n=null):a=i}return t=t||function(){},"function"==typeof n&&(n=e,e=o),e?h(i,a,t,n):setTimeout(function(){h(i,a,t,n)},4),x},x.config=function(a){return x(a)},a._defined=U,n=function(a,t,n){if("string"!=typeof a)throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),e(U,a)||e(v,a)||(v[a]=[a,t,n])},n.amd={jQuery:!0}}(),n("../../bower_components/almond/almond",function(){}),n("my_math/math_functions",[],function(){function a(a){return a/180*Math.PI}function t(a){return a/Math.PI*180}var a,t,n,i,e,o,s,r,u;return n=function(a){var t=1;if(0===(a=Math.abs(a)))return 1;for(;a--;)t*=a+1;return t},i=function(a){return 0===(a=Math.abs(a))?1:1&a?n(a)/(Math.pow(2,(a-1)/2)*n((a-1)/2)):Math.pow(2,a/2)*n(a/2)},u=function(a){return(Math.exp(a)-Math.exp(-a))/2},r=function(a){return(Math.exp(a)+Math.exp(-a))/2},o=function(a){if(!(a<1))return Math.log(a+Math.sqrt(Math.pow(a,2)-1))},s=function(a){return Math.log(a+Math.sqrt(Math.pow(a,2)+1))},e=function(a){return a>0?1:a<0?-1:0},{degToRad:a,radToDeg:t,fac:n,doubleFac:i,sgn:e,arch:o,arsh:s,ch:r,sh:u}}),n("my_math/equation_3",["my_math/math_functions"],function(a){var t,n;return t=function(a,t,n,i){var e,o,s,r,u,l,p,c,d,h,x,f,M={};return arguments.length<4?(M.message="Недостаточно параметров. (Уравнение ax^3 + bx^2 + cx + d = 0, Параметры a, b, c, d при a <> 0)",M):(e=function(e){return a*Math.pow(e,3)+t*Math.pow(e,2)+n*e+i},M.f=e,0===a?(M.message="Ошибка в параметре a. (Условие a <> 0)",M):(o=function(n){return n-t/(3*a)},s=n/a-Math.pow(t,2)/(3*Math.pow(a,2)),r=2*Math.pow(t,3)/(27*Math.pow(a,3))-t*n/(3*Math.pow(a,2))+i/a,u=Math.pow(s/3,3)+Math.pow(r/2,2),u<0?(h=Math.atan(Math.sqrt(-u)/(-r/2)),f=r<0?h:r>0?h+Math.PI:Math.PI/2,h=2*Math.sqrt(-s/3),c=h*Math.cos(f/3),d=h*Math.cos(f/3+2*Math.PI/3),y3=h*Math.cos(f/3+4*Math.PI/3),M.x1=o(c),M.x2=o(d),M.x3=o(y3),M):u>0?(l=Math.cbrt(-r/2+Math.sqrt(u)),p=Math.cbrt(-r/2-Math.sqrt(u)),c=l+p,h=-c/2,x=(l-p)*Math.sqrt(3)/2,d={k1:h,k2:x},y3={k1:h,k2:-x},M.x1=o(c),M):0===s?(M.x1=o(0),M):(h=Math.cbrt(-r/2),c=2*h,d=-h,M.x1=o(c),M.x2=o(d),M)))},n=function(t,n,i,e){var o,s,r,u,l,p,c,d,h,x,f,M={};return arguments.length<4?(M.message="Недостаточно параметров. (Уравнение ax^3 + bx^2 + cx + d = 0, Параметры a, b, c, d при a <> 0)",M):0===t?(M.message="Ошибка в параметре a. (Условие a <> 0)",M):(o=function(a){return t*Math.pow(a,3)+n*Math.pow(a,2)+i*a+e},M.f=o,s=n/t,r=i/t,u=e/t,l=(Math.pow(s,2)-3*r)/9,c=(2*Math.pow(s,3)-9*s*r+27*u)/54,(p=Math.pow(l,3)-Math.pow(c,2))>0?(d=Math.acos(c/Math.sqrt(Math.pow(l,3)))/3,M.x1=-2*Math.sqrt(l)*Math.cos(d)-s/3,M.x2=-2*Math.sqrt(l)*Math.cos(d+2/3*Math.PI)-s/3,M.x3=-2*Math.sqrt(l)*Math.cos(d-2/3*Math.PI)-s/3,M):p<0?l>0?(h=Math.abs(c)/Math.sqrt(Math.pow(l,3)),d=a.arch(h)/3,x=a.sgn(c)*Math.sqrt(l)*a.ch(d),f=Math.sqrt(3)*Math.sqrt(l)*a.sh(d),M.x1=-2*x-s/3,M.x2={k1:x-s/3,k2:f},M.x3={k1:x-s/3,k2:-f},M):l<0?(h=Math.abs(c)/Math.sqrt(Math.pow(Math.abs(l),3)),d=a.arsh(h)/3,x=a.sgn(c)*Math.sqrt(Math.abs(l))*a.sh(d),f=Math.sqrt(3)*Math.sqrt(Math.abs(l))*a.ch(d),M.x1=-2*x-s/3,M.x2={k1:x,k2:f},M.x3={k1:x,k2:-f},M):(M.x1=-Math.cbrt(u-Math.pow(s,3)/27)-s/3,x=-(s+M.x1)/2,f=Math.sqrt(Math.abs((s-3*M.x1)*(s+M.x1)-4*r))/2,M.x2={k1:x,k2:f},M.x3={k1:x,k2:-f},M):(x=a.sgn(c)*Math.sqrt(l),f=s/3,M.x1=-2*x-f,M.x2=x-f,M))},{equation3Kardano:t,equation3Vieta:n}}),n("my_math/equation_4",["my_math/equation_3"],function(a){var t;return t=function(t,n,i,e,o){var s,r,u,l,p,c,d,h,x,f,M,U,v={};return M=new Array,u=function(a){"number"!=typeof a||isNaN(a)||(M[M.length]=a)},arguments.length<5?(v.message="Недостаточно параметров. (Уравнение ax^4 + bx^3 + cx^2 + dx + e = 0, Параметры a, b, c, d, e при a !== 0)",v):(s=function(a){return t*Math.pow(a,4)+n*Math.pow(a,3)+i*Math.pow(a,2)+e*a+o},v.f=s,0===t?(v.message="Ошибка в параметре a. (Условие a !== 0)",v):(r=function(a){return a-n/(4*t)},l=(8*t*i-3*Math.pow(n,2))/(8*Math.pow(t,2)),p=(8*Math.pow(t,2)*e+Math.pow(n,3)-4*t*n*i)/(8*Math.pow(t,3)),c=(16*t*Math.pow(n,2)*i-64*Math.pow(t,2)*n*e-3*Math.pow(n,4)+256*Math.pow(t,3)*o)/(256*Math.pow(t,4)),0!==p?(d=a.equation3Kardano(1,l,(Math.pow(l,2)-4*c)/4,-Math.pow(p,2)/8),U=d.x1,h=Math.sqrt(2*U),x=Math.sqrt(2*U-4*(l/2+U+p/(2*Math.sqrt(2*U)))),f=Math.sqrt(2*U-4*(l/2+U-p/(2*Math.sqrt(2*U)))),u(r((h-x)/2)),u(r((h+x)/2)),u(r((-h-f)/2)),u(r((-h+f)/2))):(h=Math.sqrt((-l-Math.sqrt(Math.pow(l,2)-4*c))/2),x=Math.sqrt((-l+Math.sqrt(Math.pow(l,2)-4*c))/2),u(r(h)),u(r(-h)),u(r(x)),u(r(-x))),v.x=M,v))},{equation4Ferrari:t}}),n("pendulum_tools/period",["my_math/math_functions"],function(a){var t;return t=function(t){var n,i;return t.g||(t.g=9.8),t.n||(t.n=0),n=2*Math.PI*Math.sqrt(t.l/t.g),i=t.n>0?1+Math.pow(a.doubleFac(2*t.n-1)/a.doubleFac(2*t.n),2)*Math.pow(Math.sin(t.alfa/2),2*t.n):1,n*i},{period:t}}),n("pendulum_tools/functions",["my_math/equation_4","my_math/math_functions","pendulum_tools/period"],function(a,t,n){var i,e,o,s,r,u,l,p;return i=function(a){var t,n,i,e={};return a.x1<0&&a.x2<=0&&a.x2>a.x1||a.x1>0&&a.x2>=0&&a.x2<a.x1?i=1:(a.x1>=0&&a.x2>0&&a.x2>a.x1||a.x1<=0&&a.x2<0&&a.x2<a.x1)&&(i=-1),e.iZ=i,t=Math.sqrt(Math.abs(a.x2-a.x1)/(a.g*Math.abs(a.x2)*Math.sqrt(1-Math.pow(a.x2/a.l,2))/a.l)),n=(a.x2-a.x1)/t,e.v2=a.v1+i*n,-1===i&&0===Math.floor(Math.abs(e.v2*Math.pow(10,10)))?(e.v2=0,e.dt=1/0):e.dt=(a.x2-a.x1)/e.v2,e},e=function(t,n){var i,e,o,s,r,u,l,p,c,d;if(l=new Array,p=Math.pow(t.g,2)*Math.pow(t.dt,4)/Math.pow(t.l,2),i=p/Math.pow(t.l,2),e=0,o=1-p,s=-2*t.x1,r=Math.pow(t.x1,2),c=a.equation4Ferrari(i,e,o,s,r),1===(n?n>t.x1?1:0:t.x1>0?1:0)){for(u=0;u<c.x.length;u++)c.x[u]<t.x1&&l.push(c.x[u]);d=c.x.length>0?Math.max.apply(Math,l):void 0}else{for(u=0;u<c.x.length;u++)c.x[u]>t.x1&&l.push(c.x[u]);d=c.x.length>0?Math.min.apply(Math,l):void 0}return d},o=function(a,t){return t*Math.sin(a)},s=function(a,t){return t-Math.sqrt(Math.pow(t,2)-Math.pow(a,2))},l=function(a){return Math.asin(a.x1/a.l)},r=function(a){return a.v1+Math.abs(a.x1-a.x2)/a.dt},u=function(a){return a.g*Math.sin(a.alfa)*Math.cos(a.alfa)},p=function(a,t,n,i){var e,o,s,r,u,l,p=dy=0;return e=a.x2-a.x1,o=t.y2-t.y1,n>=i&&e>o||n<i&&e>=o?dy=e*i/n-o:(n<i&&e<=o||n<=i&&e<o)&&(p=o*n/i-e),s=a.x1-p/2,r=a.x2+p/2,u=t.y1-dy/2,l=t.y2+dy/2,{x:{x1:s,x2:r},y:{y1:u,y2:l}}},{getDTV:i,getX:e,getXal:o,getY:s,getAlfa:l,getV:r,getA:u,period:n.period,proportion:p}}),n("pendulum_tools/services_functions",[],function(){var a;return a=function(a){var t,n,i;return t=function(t){var n;return n=a.canvas.width/(a.diapasonX.x2-a.diapasonX.x1),Math.floor(Math.abs(t-a.diapasonX.x1)*n)},n=function(t,n){var i;return!n&&a.h&&a.l&&(t=t+a.h-a.l),i=a.canvas.height/(a.diapasonY.y2-a.diapasonY.y1),Math.floor((a.diapasonY.y2-t)*i)},i=function(t){var n;return n=a.canvas.width/(a.diapasonX.x2-a.diapasonX.x1),t*n},{xToPix:t,yToPix:n,lengthToPix:i}},{XYToPix:a}}),n("draw_tools/axis_and_scales",["pendulum_tools/services_functions"],function(a){var t;return t=function(t){var n,i,e,o,s,r,u,l={};return l={canvas:void 0,diapasonX:{x1:-1,x2:1},diapasonY:{y1:-1,y2:1},isVisibleAxisX:!0,isVisibleAxisY:!0,widthAxis:1,colorAxis:"rgba(0, 0, 0, 1)",isVisibleScaleX:!0,isVisibleScaleY:!0,scaleX:1,scaleY:1,widthScales:1,colorScales:"rgba(0, 0, 0, .2)"},n=function(a){var t;for(t in a)l[t]=a[t]},n(t),s=a.XYToPix(l),r=s.xToPix,u=s.yToPix,o=function(){var a,t,n,i,e,o;return e=function(a,t){return Math.ceil(a/t)*t},o=function(a,t){return Math.floor(a/t)*t},a=e(l.diapasonX.x1,l.scaleX),t=o(l.diapasonX.x2,l.scaleX),n=l.diapasonY.y1>0?o(l.diapasonY.y1,l.scaleY):e(l.diapasonY.y1,l.scaleY),i=l.diapasonY.y2>0?o(l.diapasonY.y2,l.scaleY):e(l.diapasonY.y2,l.scaleY),{xStart:a,xEnd:t,yStart:n,yEnd:i}},i=function(){var a={},t={},n=l.canvas.getContext("2d");(l.isVisibleAxisX||l.isVisibleAxisY)&&(a.x1=0,a.x2=l.canvas.width,t.y1=0,t.y2=l.canvas.height,n.beginPath(),n.strokeStyle=l.colorAxis,n.lineWidth=l.widthAxis+""),l.isVisibleAxisX&&(l.diapasonY.y2>0&&l.diapasonY.y1<0||0===l.diapasonY.y2||0===l.diapasonY.y1)&&(a.y1=a.y2=u(0,!0),n.moveTo(a.x1,a.y1),n.lineTo(a.x2,a.y2),n.stroke()),l.isVisibleAxisY&&(l.diapasonX.x1<0&&l.diapasonX.x2>0||0===l.diapasonX.x1||0===l.diapasonX.x2)&&(t.x1=t.x2=r(0),n.moveTo(t.x1,t.y1),n.lineTo(t.x2,t.y2),n.stroke())},e=function(){var a,t,n={},i=l.canvas.getContext("2d");if(l.isVisibleScaleX||l.isVisibleScaleY){if(i.beginPath(),i.lineWidth=l.widthScales+"",i.strokeStyle=l.colorScales,n=o(),l.isVisibleScaleX){for(t=(n.xEnd-n.xStart)/l.scaleX,a=0;a<=t;a++)x=r(n.xStart+a*l.scaleX),i.moveTo(x,0),i.lineTo(x,l.canvas.height);i.stroke()}if(l.isVisibleScaleY){for(t=(n.yEnd-n.yStart)/l.scaleY,a=0;a<=t;a++)y=u(n.yStart+a*l.scaleY,!0),i.moveTo(0,y),i.lineTo(l.canvas.width,y);i.stroke()}}},{options:l,updateOptions:n,drawAxis:i,drawScales:e}},{As:t}}),n("draw_tools/graph",["draw_tools/axis_and_scales","pendulum_tools/services_functions"],function(a,t){var n,i;return i=function(a,t){var n;for(n in a)t[n]&&(t[n]=a[n]);a&&(t.canvas=t.axis_and_scales.options.canvas=a.canvas,t.fun=a.fun),t.axis_and_scales.updateOptions(t)},n=function(n){var e,o,s;return e={canvas:void 0,fun:void 0,amountX:100,colorFun:"#FF0000",widthFun:2,diapasonX:{x1:-1,x2:1},diapasonY:{y1:-1,y2:1},points:void 0,axis_and_scales:a.As()},i(n,e),o=function(a){var n,o,s,r,u,l,p,c,d,h,x;if(d=t.XYToPix(e),h=d.xToPix,x=d.yToPix,i(a,e),n=e.canvas.getContext("2d"),e.diapasonX.x1>e.diapasonX.x2&&(c=e.diapasonX.x1,e.diapasonX.x1=e.diapasonX.x2,e.diapasonX.x2=c),e.diapasonY.y1>e.diapasonY.y2&&(c=e.diapasonY.y1,e.diapasonY.y1=e.diapasonY.y2,e.diapasonY.y2=c),r=[],u=[],s=(e.diapasonX.x2-e.diapasonX.x1)/e.amountX,n.beginPath(),n.lineWidth=e.widthFun+"",n.strokeStyle=e.colorFun,n.lineJoin="round",e.points)for(o=0;o<e.points.x.length;o++)0===o?n.moveTo(h(e.points.x[0]),x(e.points.y[0])):n.lineTo(h(e.points.x[o]),x(e.points.y[o]));else for(o=0;o<=e.amountX;o++)r[o]=e.diapasonX.x1+o*s,u[o]=e.fun(r[o]),l=h(r[o]),p=x(u[o]),0===o?n.moveTo(l,p):n.lineTo(l,p);n.stroke()},s=function(){var a;a=e.canvas.getContext("2d"),a.clearRect(0,0,e.canvas.width,e.canvas.height)},{draw:o,clear:s,options:e,updateOAS:e.axis_and_scales.updateOptions}},{Graph:n}}),n("draw_tools/pendulum_ball",["pendulum_tools/functions","pendulum_tools/services_functions","draw_tools/axis_and_scales","draw_tools/graph","my_math/math_functions"],function(a,t,n,i,e){var o;return o=function(o){var s,r,u,l,p,c,d,h,x,f,M,U,v,N,g,b,P,y,L,E,q={},D={},m={},w={},X=!1,Y={};return Y.arrayV=new Array,Y.arrayA=new Array,Y.arrayAlfa=new Array,Y.arrayT=new Array,o.g||(o.g=9.8),o.countX||(o.countX=100),o.axisIsVisible||(o.axisIsVisible=!0),o.ballR||(o.ballR=o.l/40),o.ballColor||(o.ballColor="#AB0000"),o.alfa1=e.degToRad(o.alfa),v=a.period({l:o.l,alfa:o.alfa1,n:0}),o.optionsScales?h=o.optionsScales:(N=2*o.ballR,g=-o.l-N,b=o.l+N,P=-N,y=o.l+N,x=a.proportion({x1:g,x2:b},{y1:P,y2:y},o.canvas.width,o.canvas.height),h={canvas:o.canvas,diapasonX:x.x,diapasonY:x.y}),h.h=o.h,h.l=o.l,f=t.XYToPix(h),M=f.xToPix,U=f.yToPix,lengthToPix=f.lengthToPix,d=n.As(h),d.options.colorAxis="rgba(0, 0, 0, .1)",s=function(a,t){ctx=o.canvas.getContext("2d"),o.axisIsVisible&&d.drawAxis(),ctx.beginPath(),ctx.strokeStyle="rgba(0, 0, 0, .3)",ctx.lineWidth="1",ctx.moveTo(M(a),U(t)),ctx.lineTo(M(0),U(o.l)),ctx.stroke(),ctx.beginPath(),ctx.arc(M(a),U(t),lengthToPix(o.ballR),0,2*Math.PI,!1),ctx.fillStyle=o.ballColor,ctx.closePath(),ctx.fill()},r=function(){o.y1=a.getY(o.x1,o.l),s(o.x1,o.y1)},u=function(t){var n,i,e,u,l,d,h;i=function(){var t;return 1===l&&o.x1<0||1===l&&0===o.x1&&d<0||-1===l&&o.x1>0?o.x2=o.x1+e:o.x2=o.x1-e,0===Math.abs(Math.round(o.x2/e))&&(o.x2=0),o.y2=a.getY(o.x2,o.l),h=a.getDTV(o),t=h.dt,o.v2=h.v2,l=h.iZ,o.a2=a.getA({g:o.g,l:o.l,x:o.x2,alfa:o.alfa2}),o.at2=o.g*Math.sin(o.alfa2),o.vt2=o.v2/Math.cos(o.alfa2),o.alfa2=a.getAlfa({x1:o.x2,l:o.l}),t},n=function(a){var e;if(e=function(){var n;if(0===o.v2&&0===o.x2&&0===o.y2)return void(X=!1);d=o.x1,o.x1=o.x2,o.v1=o.v2,o.y1=o.y2,o.a1=o.a2,o.at1=o.at2,o.vt1=o.vt2,o.alfa1=o.alfa2,a=i(),t||(Y.graphV||Y.graphA||Y.graphAlfa)&&isFinite(a)&&(Y.dt=a,Y.graphV&&(Y.v=o.vt2),Y.graphA&&(Y.a=o.at2),Y.graphAlfa&&(Y.alfa=o.alfa2),L()),t&&(w.x2+=a,o.vt1<q.y1?q.y1=o.vt1:o.vt1>q.y2&&(q.y2=o.vt1),o.at1<D.y1?D.y1=o.at1:o.at1>D.y2&&(D.y2=o.at1),o.alfa1<m.y1?m.y1=o.alfa1:o.alfa1>m.y2&&(m.y2=o.alfa1),0===o.alfa1&&(t=!1,w.x2*=4,n=q.y2-q.y1,q.y1=-n,q.y2=n,n=D.y2-D.y1,D.y1=-n,D.y2=n,n=m.y2-m.y1,m.y1=-n,m.y2=n))},X||t){if(isNaN(a))return void(X=!1);isFinite(a)||(l=1),t?(e(),n(a)):c=setTimeout(function(){p(),s(o.x2,o.y2),e(),n(a)},1e3*a)}},o.y1=a.getY(o.x1,o.l),o.v1=0,l=1,d=o.x1,t||(X=!0),o.alfa1=a.getAlfa({x1:o.x1,l:o.l}),o.a1=a.getA({g:o.g,l:o.l,x:o.x1,alfa:o.alfa1}),o.at1=o.g*Math.sin(o.alfa1),o.vt1=0,t&&(w.x1=0,w.x2=0,q.y1=o.vt1,q.y2=o.vt1,D.y1=o.at1,D.y2=o.at1,m.y1=o.alfa1,m.y2=o.alfa1),t||r(),e=Math.abs(o.x1)/o.countX,u=i(),t||(Y.graphV||Y.graphA||Y.graphAlfa)&&(Y.t=o.intervalT,Y.dt=0,Y.graphV&&(Y.v=o.vt1),Y.graphA&&(Y.a=o.at1),Y.graphAlfa&&(Y.alfa=o.alfa1),L()),n(u)},l=function(){clearTimeout(c),X=!1},p=function(){var a;a=o.canvas.getContext("2d"),a.clearRect(0,0,o.canvas.width,o.canvas.height)},L=function(){var a,t,n,i=!0,e={};if(a=function(a,t,n){t&&a.push(n)},t=function(a,t){t&&(a.shift(),t.options.diapasonX=e)},n=function(a,t){t&&(t.options.points={x:Y.arrayT,y:a},t.clear(),t.options.axis_and_scales.drawAxis(),t.options.axis_and_scales.drawScales(),t.draw())},Y.graphV||Y.graphA||Y.graphAlfa){for(0===Y.arrayT.length?Y.arrayT[0]=Y.dt:Y.arrayT.push(Y.arrayT[Y.arrayT.length-1]+Y.dt),a(Y.arrayV,Y.graphV,Y.v),a(Y.arrayA,Y.graphA,Y.a),a(Y.arrayAlfa,Y.graphAlfa,Y.alfa);i;)Y.arrayT[Y.arrayT.length-1]-Y.arrayT[0]>Y.t?(Y.arrayT.shift(),e={x1:Y.arrayT[0],x2:Y.arrayT[Y.arrayT.length-1]},t(Y.arrayV,Y.graphV),t(Y.arrayA,Y.graphA),t(Y.arrayAlfa,Y.graphAlfa)):i=!1;n(Y.arrayV,Y.graphV),n(Y.arrayA,Y.graphA),n(Y.arrayAlfa,Y.graphAlfa)}},E=function(a,t){var n,e,s=Object.create(o),r=o.x1;e=function(a){a.options.axis_and_scales.options.scaleX=n,a.options.axis_and_scales.options.scaleY=(s.diapasonY.y2-s.diapasonY.y1)/4},s.canvas=t,w.x1&&w.x2||u(!0),w.x2*=2,s.diapasonX=w,n=w.x2/8,"v"===a&&(s.diapasonY=q,Y.graphV=i.Graph(s),e(Y.graphV)),"a"===a&&(s.diapasonY=D,Y.graphA=i.Graph(s),e(Y.graphA)),"alfa"===a&&(s.diapasonY=m,Y.graphAlfa=i.Graph(s),e(Y.graphAlfa)),o.x1=r,o.intervalT=w.x2},{options:o,shot:s,begin:r,start:u,stop:l,clear:p,axisScales:d,period:v,draw:E}},{PendulumBall:o}}),$(function(){var a,t;$("#hint").text(PENDULUM.hint),a=function(a){switch($("#menu-buttons .pendulum-button p").removeClass("selected"),a.target.classList.add("selected"),$("div[contentName]").attr("isSelected","false"),a.target.closest(".pendulum-button").getAttribute("id")){case"menu-home":$('div[contentName="home"]').attr("isSelected","true"),PENDULUM.hint=PENDULUM.hints.home;break;case"menu-one-pend":$('div[contentName="one-pend"]').attr("isSelected","true"),PENDULUM.hint=PENDULUM.hints.onePend;break;case"menu-many-pend":$('div[contentName="many-pend"]').attr("isSelected","true"),PENDULUM.hint=PENDULUM.hints.manyPend;break;case"menu-equations":$('div[contentName="equations"]').attr("isSelected","true"),PENDULUM.hint=PENDULUM.hints.equations}$("#hint").text(PENDULUM.hint)},t=function(){$("#div-back").css("height",$("#can-1").css("height"))},$("#menu-buttons .pendulum-button").click(function(t){a(t)}),$(window).resize(function(){t()}),$("#menu-many-pend").click(t)}),n("view",function(){}),n("main",["draw_tools/pendulum_ball","pendulum_tools/functions","my_math/math_functions","my_math/equation_3","my_math/equation_4","draw_tools/graph","view"],function(a,t,n,i,e,o,s){var r,u,l,p,c,d,h,x,f,M,U,v,N,g;r=PENDULUM.argPb,x=PENDULUM.argPbN,g=PENDULUM.argPbN.countN,v=function(a){var t,n,i;for(n=0,t=0;t<g;t++)if(a.optionsN[t].l>n){if(!x.optionsN[t].n)continue;n=a.optionsN[t].l,i=t}return i},f=function(a){var n,i,e,o,s,r;return N=v(x),s=2*a.optionsN[N].l/40,n=-a.optionsN[N].l-s,i=a.optionsN[N].l+s,e=-s,o=a.optionsN[N].l+s,r=t.proportion({x1:n,x2:i},{y1:e,y2:o},a.optionsN[N].canvas.width,a.optionsN[N].canvas.height),{canvas:a.optionsN[N].canvas,diapasonX:r.x,diapasonY:r.y}},M=function(a){return N=v(x),a.optionsN[N].l},U=function(a){return N=v(x),a.optionsN[N].l/40},u=function(i){return i.x1=t.getXal(n.degToRad(i.alfa),i.l),a.PendulumBall(i)},l=function(a){a.pb.stop(),a.butStart.setAttribute("pendulum-state","isStopped"),c(a)},p=function(a){for(var t=0;t<g;t++)a.arrayPb[t]&&(a.arrayPb[t].stop(),a.arrayPb[t].clear());a.butStartN.setAttribute("pendulum-state","isStopped"),beginN(a)},c=function(a){a.input.inAlfa.value=a.options.alfa,a.input.inL.value=a.options.l,a.pb=u(a.options),a.pb.clear(),a.pb.begin(),a.pb.draw("v",a.canvV),a.pb.draw("a",a.canvA),a.pb.draw("alfa",a.canvAlfa)},beginN=function(a){var t,n,i,e,o=!0,s=!1;for(n=M(a),i=U(a),e=0;e<g;e++)a.input.n[e].checked=a.optionsN[e].n,a.input.inAlfa[e].value=a.optionsN[e].alfa,a.input.inL[e].value=a.optionsN[e].l,a.optionsN[e].n&&(a.optionsN[e].canvas=a.arrayCanvas[e],e);for(e=0;e<g;e++)a.optionsN[e].n&&o&&(o=!1);for(o||(t=f(a)),e=0;e<g;e++)a.optionsN[e].n&&(a.optionsN[e].optionsScales={},a.optionsN[e].optionsScales.canvas=a.optionsN[e].canvas,a.optionsN[e].optionsScales.diapasonX={x1:t.diapasonX.x1,x2:t.diapasonX.x2},a.optionsN[e].optionsScales.diapasonY={y1:t.diapasonY.y1,y2:t.diapasonY.y2},a.optionsN[e].name="pandulum - "+e,a.optionsN[e].h=n,a.optionsN[e].ballR=i,a.arrayPb[e]=u(a.optionsN[e]),s?a.arrayPb[e].options.axisIsVisible=!1:s=!0,a.arrayPb[e].begin())},d=function(){var a,t;PENDULUM.equations3.inDiapX1.value=PENDULUM.equations3.diapX1,PENDULUM.equations3.inDiapX2.value=PENDULUM.equations3.diapX2,PENDULUM.equations3.inDiapY1.value=PENDULUM.equations3.diapY1,PENDULUM.equations3.inDiapY2.value=PENDULUM.equations3.diapY2,PENDULUM.equations3.inScaleXY.value=PENDULUM.equations3.scaleXY,PENDULUM.equations3.inA.value=PENDULUM.equations3.a,PENDULUM.equations3.inB.value=PENDULUM.equations3.b,PENDULUM.equations3.inC.value=PENDULUM.equations3.c,PENDULUM.equations3.inD.value=PENDULUM.equations3.d,a=i.equation3Kardano(PENDULUM.equations3.a,PENDULUM.equations3.b,PENDULUM.equations3.c,PENDULUM.equations3.d),PENDULUM.equations3.pX1.innerHTML="x<sub>1</sub> = нет корня",PENDULUM.equations3.pX2.innerHTML="x<sub>2</sub> = нет корня",PENDULUM.equations3.pX3.innerHTML="x<sub>3</sub> = нет корня",a.x1&&(PENDULUM.equations3.pX1.innerHTML="x<sub>1</sub> = "+a.x1.toFixed(3)),a.x2&&(PENDULUM.equations3.pX2.innerHTML="x<sub>2</sub> = "+a.x2.toFixed(3)),a.x3&&(PENDULUM.equations3.pX3.innerHTML="x<sub>3</sub> = "+a.x3.toFixed(3)),t=o.Graph({canvas:PENDULUM.equations3.canvas,fun:a.f,diapasonX:{x1:PENDULUM.equations3.diapX1,x2:PENDULUM.equations3.diapX2},diapasonY:{y1:PENDULUM.equations3.diapY1,y2:PENDULUM.equations3.diapY2}}),t.clear(),t.options.axis_and_scales.drawAxis(),PENDULUM.equations3.scaleXY>0&&(t.options.axis_and_scales.options.scaleX=PENDULUM.equations3.scaleXY,t.options.axis_and_scales.options.scaleY=PENDULUM.equations3.scaleXY,t.options.axis_and_scales.drawScales()),t.draw()},h=function(){var a,t;PENDULUM.equations4.inDiapX1.value=PENDULUM.equations4.diapX1,PENDULUM.equations4.inDiapX2.value=PENDULUM.equations4.diapX2,PENDULUM.equations4.inDiapY1.value=PENDULUM.equations4.diapY1,PENDULUM.equations4.inDiapY2.value=PENDULUM.equations4.diapY2,PENDULUM.equations4.inScaleXY.value=PENDULUM.equations4.scaleXY,PENDULUM.equations4.inA.value=PENDULUM.equations4.a,PENDULUM.equations4.inB.value=PENDULUM.equations4.b,PENDULUM.equations4.inC.value=PENDULUM.equations4.c,PENDULUM.equations4.inD.value=PENDULUM.equations4.d,PENDULUM.equations4.inE.value=PENDULUM.equations4.e,a=e.equation4Ferrari(PENDULUM.equations4.a,PENDULUM.equations4.b,PENDULUM.equations4.c,PENDULUM.equations4.d,PENDULUM.equations4.e),PENDULUM.equations4.pX1.innerHTML="x<sub>1</sub> = нет корня",PENDULUM.equations4.pX2.innerHTML="x<sub>2</sub> = нет корня",PENDULUM.equations4.pX3.innerHTML="x<sub>3</sub> = нет корня",PENDULUM.equations4.pX4.innerHTML="x<sub>4</sub> = нет корня",a.x[0]&&(PENDULUM.equations4.pX1.innerHTML="x<sub>1</sub> = "+a.x[0].toFixed(3)),a.x[1]&&(PENDULUM.equations4.pX2.innerHTML="x<sub>2</sub> = "+a.x[1].toFixed(3)),a.x[2]&&(PENDULUM.equations4.pX3.innerHTML="x<sub>3</sub> = "+a.x[2].toFixed(3)),a.x[3]&&(PENDULUM.equations4.pX4.innerHTML="x<sub>4</sub> = "+a.x[3].toFixed(3)),t=o.Graph({canvas:PENDULUM.equations4.canvas,fun:a.f,diapasonX:{x1:PENDULUM.equations4.diapX1,x2:PENDULUM.equations4.diapX2},diapasonY:{y1:PENDULUM.equations4.diapY1,y2:PENDULUM.equations4.diapY2}}),t.clear(),t.options.axis_and_scales.drawAxis(),PENDULUM.equations4.scaleXY>0&&(t.options.axis_and_scales.options.scaleX=PENDULUM.equations4.scaleXY,t.options.axis_and_scales.options.scaleY=PENDULUM.equations4.scaleXY,t.options.axis_and_scales.drawScales()),t.draw()},c(r),beginN(x),d(),h(),r.butStart.addEventListener("click",function(a){if(p(x),"isStarted"===a.target.getAttribute("pendulum-state"))return void l(r);"isStopped"===a.target.getAttribute("pendulum-state")&&(r.pb.start(),a.target.setAttribute("pendulum-state","isStarted"))}),PENDULUM.argPb.input.inAlfa.addEventListener("input",function(a){r.options.alfa=Number(a.target.value),l(r)}),PENDULUM.argPb.input.inL.addEventListener("input",function(a){r.options.l=Number(a.target.value),l(r)}),PENDULUM.argPbN.butPropN.addEventListener("click",function(){"false"===this.getAttribute("isOpen")?(this.setAttribute("isOpen","true"),PENDULUM.argPbN.panelPropN.setAttribute("isOpen","true")):(this.setAttribute("isOpen","false"),PENDULUM.argPbN.panelPropN.setAttribute("isOpen","false"))}),PENDULUM.argPbN.butStartN.addEventListener("click",function(a){var t;if(l(r),"isStarted"===a.target.getAttribute("pendulum-state"))return void p(x);if("isStopped"===a.target.getAttribute("pendulum-state")){for(t=0;t<g;t++)x.optionsN[t].n&&x.arrayPb[t].start();a.target.setAttribute("pendulum-state","isStarted")}});for(var b=0;b<g;b++)PENDULUM.argPbN.input.n[b].addEventListener("change",function(a){x.optionsN[Number(a.target.id.substring(6))].n=a.target.checked,p(x)}),PENDULUM.argPbN.input.inAlfa[b].addEventListener("input",function(a){x.optionsN[Number(a.target.id.substring(9))].alfa=Number(a.target.value),p(x)}),PENDULUM.argPbN.input.inL[b].addEventListener("input",function(a){var t=Number(a.target.getAttribute("id").substring(6)),n=Number(a.target.value);x.optionsN[t].l=n<=0?.1:n,p(x)});PENDULUM.equations3.inA.addEventListener("input",function(a){0!==Number(a.target.value)&&(PENDULUM.equations3.a=Number(a.target.value),d())}),PENDULUM.equations3.inB.addEventListener("input",function(a){PENDULUM.equations3.b=Number(a.target.value),d()}),PENDULUM.equations3.inC.addEventListener("input",function(a){PENDULUM.equations3.c=Number(a.target.value),d()}),PENDULUM.equations3.inD.addEventListener("input",function(a){PENDULUM.equations3.d=Number(a.target.value),d()}),PENDULUM.equations3.inDiapX1.addEventListener("input",function(a){PENDULUM.equations3.diapX1=Number(a.target.value),d()}),PENDULUM.equations3.inDiapX2.addEventListener("input",function(a){PENDULUM.equations3.diapX2=Number(a.target.value),d()}),PENDULUM.equations3.inDiapY1.addEventListener("input",function(a){PENDULUM.equations3.diapY1=Number(a.target.value),d()}),PENDULUM.equations3.inDiapY2.addEventListener("input",function(a){PENDULUM.equations3.diapY2=Number(a.target.value),d()}),PENDULUM.equations3.inScaleXY.addEventListener("input",function(a){PENDULUM.equations3.scaleXY=Number(a.target.value),d()}),PENDULUM.equations4.inA.addEventListener("input",function(a){0!==Number(a.target.value)&&(PENDULUM.equations4.a=Number(a.target.value),h())}),PENDULUM.equations4.inB.addEventListener("input",function(a){PENDULUM.equations4.b=Number(a.target.value),h()}),PENDULUM.equations4.inC.addEventListener("input",function(a){PENDULUM.equations4.c=Number(a.target.value),h()}),PENDULUM.equations4.inD.addEventListener("input",function(a){PENDULUM.equations4.d=Number(a.target.value),h()}),PENDULUM.equations4.inE.addEventListener("input",function(a){PENDULUM.equations4.e=Number(a.target.value),h()}),PENDULUM.equations4.inDiapX1.addEventListener("input",function(a){PENDULUM.equations4.diapX1=Number(a.target.value),h()}),PENDULUM.equations4.inDiapX2.addEventListener("input",function(a){PENDULUM.equations4.diapX2=Number(a.target.value),h()}),PENDULUM.equations4.inDiapY1.addEventListener("input",function(a){PENDULUM.equations4.diapY1=Number(a.target.value),h()}),PENDULUM.equations4.inDiapY2.addEventListener("input",function(a){PENDULUM.equations4.diapY2=Number(a.target.value),h()}),PENDULUM.equations4.inScaleXY.addEventListener("input",function(a){PENDULUM.equations4.scaleXY=Number(a.target.value),h()})}),t(["main"])}();